{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/Data/Javascript_code/Ionic/coffee-db4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/Data/Javascript_code/Ionic/coffee-db4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/mnt/Data/Javascript_code/Ionic/coffee-db4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useReducer}from'react';import{IonItem,IonReorder,IonReorderGroup,IonCheckbox,IonGrid,IonRow,IonCol,IonLabel,IonContent,IonButton,IonIcon,IonInput}from'@ionic/react';import{trash,save,close,addCircle}from'ionicons/icons';import{overWriteFile}from'../backend/data';import{store}from'../backend/store';// fields is the basic array of fields that's available upon installation\n/*\nconst fields = [\n    ['Bohne', true],\n    ['Röster', true],\n    ['Kommentar', false]]\n\nconst fileName = 'data/beans-settings.data'\n*/export var SortItems=function SortItems(fileName,type){var globalState=useContext(store);var state=globalState.state,dispatch=globalState.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),tempItem=_useState2[0],setTempItem=_useState2[1];var settingsString='set'+type.charAt(0).toUpperCase()+type.slice(1)+'Settings';//returns either 'setBeansSettings' or 'setBrewsSettings' \nvar reducer=function reducer(myState,action){var tempArray=JSON.parse(JSON.stringify(myState));switch(action.type){case'swap':return action.value;case'addRow':tempArray.push([action.itemName,true]);return tempArray;case'delRow'://tempArray = JSON.parse(JSON.stringify(state))\ntempArray.splice(action.index,1);return tempArray;//return state.splice(action.index, 1)\ncase'check':tempArray[action.index][1]=action.checkState;return tempArray;//return state[action.index][1] = action.checkState\ncase'reset':return JSON.parse(JSON.stringify(state[type].settings));default:throw new Error();}};var _useReducer=useReducer(reducer,JSON.parse(JSON.stringify(state[type].settings))),_useReducer2=_slicedToArray(_useReducer,2),items=_useReducer2[0],setItems=_useReducer2[1];var fileSave=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(fileName,object){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return overWriteFile(fileName,object);case 2:dispatch({type:settingsString,value:object});case 3:case\"end\":return _context.stop();}}},_callee);}));return function fileSave(_x,_x2){return _ref.apply(this,arguments);};}();var addItem=function addItem(newItem){setItems({type:'addRow',itemName:newItem});setTempItem('');};function doReorder(itemsSort,event){itemsSort=event.detail.complete(itemsSort);setItems({type:'swap',value:itemsSort});}var delItem=function delItem(index){setItems({type:'delRow',index:index});};var checkBox=function checkBox(index,checkState){setItems({type:'check',index:index,checkState:checkState});};var displayItems=function displayItems(itemsToDisplay){var result=itemsToDisplay.map(function(arrayItem,index){return/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonCheckbox,{slot:\"start\",color:\"dark\",checked:arrayItem[1],name:index,onIonChange:function onIonChange(e){return checkBox(e.target.name,e.detail.checked,JSON.parse(JSON.stringify(items)));}}),/*#__PURE__*/React.createElement(IonLabel,null,arrayItem[0]),/*#__PURE__*/React.createElement(IonButton,{color:\"dark\",name:index,onClick:function onClick(e){return delItem(e.target.name,JSON.parse(JSON.stringify(items)));}},\" \",/*#__PURE__*/React.createElement(IonIcon,{icon:trash})),/*#__PURE__*/React.createElement(IonReorder,{slot:\"end\"}));});return result;};var toDisplay=displayItems(items);return/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(IonGrid,null,/*#__PURE__*/React.createElement(IonRow,{class:\"ion-no-margin\"},/*#__PURE__*/React.createElement(IonCol,{class:\"ion-text-left\"},/*#__PURE__*/React.createElement(\"br\",null),\"Anzeigen\"),/*#__PURE__*/React.createElement(IonCol,{class:\"ion-text-right\"},/*#__PURE__*/React.createElement(\"br\",null),\"Reihenfolge\"))),/*#__PURE__*/React.createElement(IonReorderGroup,{disabled:false,onIonItemReorder:function onIonItemReorder(e){return doReorder(items,e);}},toDisplay),/*#__PURE__*/React.createElement(IonItem,{class:\"ion-padding\"},/*#__PURE__*/React.createElement(IonInput,{background:\"dark\",placeholder:\"Feld hinzuf\\xFCgen\",onIonChange:function onIonChange(e){return setTempItem(e.detail.value);},value:tempItem}),/*#__PURE__*/React.createElement(IonButton,{color:\"dark\",style:{height:'35px',width:'35px'},onClick:function onClick(){return addItem(tempItem,items);}},/*#__PURE__*/React.createElement(IonIcon,{icon:addCircle,style:{fontSize:'50px'}}))),/*#__PURE__*/React.createElement(IonGrid,null,/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonButton,{color:\"dark\",class:\"ion-text-capitalize\",size:\"default\",routerLink:\"./Home\",onClick:function onClick(){fileSave(fileName,items);}},/*#__PURE__*/React.createElement(IonIcon,{icon:save,slot:\"start\",size:\"large\"}),\"Speichern\")),/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonButton,{color:\"dark\",class:\"ion-text-capitalize\",size:\"default\",routerLink:\"./Home\",onClick:function onClick(){return setItems({type:'reset'});}},/*#__PURE__*/React.createElement(IonIcon,{icon:close,slot:\"start\",size:\"large\"}),\"Abbrechen\")))));};","map":{"version":3,"sources":["/mnt/Data/Javascript_code/Ionic/coffee-db4/src/components/frontend/sort-items.js"],"names":["React","useContext","useState","useReducer","IonItem","IonReorder","IonReorderGroup","IonCheckbox","IonGrid","IonRow","IonCol","IonLabel","IonContent","IonButton","IonIcon","IonInput","trash","save","close","addCircle","overWriteFile","store","SortItems","fileName","type","globalState","state","dispatch","tempItem","setTempItem","settingsString","charAt","toUpperCase","slice","reducer","myState","action","tempArray","JSON","parse","stringify","value","push","itemName","splice","index","checkState","settings","Error","items","setItems","fileSave","object","addItem","newItem","doReorder","itemsSort","event","detail","complete","delItem","checkBox","displayItems","itemsToDisplay","result","map","arrayItem","e","target","name","checked","toDisplay","height","width","fontSize"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,UAAtC,KAAuD,OAAvD,CACA,OAASC,OAAT,CAAkBC,UAAlB,CAA8BC,eAA9B,CAA+CC,WAA/C,CAA4DC,OAA5D,CAAqEC,MAArE,CAA6EC,MAA7E,CACIC,QADJ,CACcC,UADd,CAC0BC,SAD1B,CACqCC,OADrC,CAC8CC,QAD9C,KAC8D,cAD9D,CAGA,OAASC,KAAT,CAAgBC,IAAhB,CAAsBC,KAAtB,CAA6BC,SAA7B,KAA8C,gBAA9C,CAEA,OAASC,aAAT,KAA8B,iBAA9B,CACA,OAASC,KAAT,KAAsB,kBAAtB,CAGA;AACA;;;;;;;EAUA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,QAAD,CAAWC,IAAX,CAAoB,CAEzC,GAAMC,CAAAA,WAAW,CAAGxB,UAAU,CAACoB,KAAD,CAA9B,CAFyC,GAGjCK,CAAAA,KAHiC,CAGbD,WAHa,CAGjCC,KAHiC,CAG1BC,QAH0B,CAGbF,WAHa,CAG1BE,QAH0B,eAITzB,QAAQ,CAAC,EAAD,CAJC,wCAIlC0B,QAJkC,eAIxBC,WAJwB,eAKzC,GAAMC,CAAAA,cAAc,CAAG,MAAQN,IAAI,CAACO,MAAL,CAAY,CAAZ,EAAeC,WAAf,EAAR,CAAuCR,IAAI,CAACS,KAAL,CAAW,CAAX,CAAvC,CAAuD,UAA9E,CAAyF;AAEzF,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,OAAD,CAAUC,MAAV,CAAqB,CACjC,GAAIC,CAAAA,SAAS,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,OAAf,CAAX,CAAhB,CACA,OAAQC,MAAM,CAACZ,IAAf,EACI,IAAK,MAAL,CACI,MAAOY,CAAAA,MAAM,CAACK,KAAd,CACJ,IAAK,QAAL,CACIJ,SAAS,CAACK,IAAV,CAAe,CAACN,MAAM,CAACO,QAAR,CAAkB,IAAlB,CAAf,EAEA,MAAON,CAAAA,SAAP,CACJ,IAAK,QAAL,CAEI;AACAA,SAAS,CAACO,MAAV,CAAiBR,MAAM,CAACS,KAAxB,CAA+B,CAA/B,EACA,MAAOR,CAAAA,SAAP,CACA;AACJ,IAAK,OAAL,CACIA,SAAS,CAACD,MAAM,CAACS,KAAR,CAAT,CAAwB,CAAxB,EAA6BT,MAAM,CAACU,UAApC,CACA,MAAOT,CAAAA,SAAP,CACA;AACJ,IAAK,OAAL,CACI,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAed,KAAK,CAACF,IAAD,CAAL,CAAYuB,QAA3B,CAAX,CAAP,CACJ,QACI,KAAM,IAAIC,CAAAA,KAAJ,EAAN,CApBR,CAuBH,CAzBD,CAPyC,gBAmCf7C,UAAU,CAAC+B,OAAD,CAAUI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAed,KAAK,CAACF,IAAD,CAAL,CAAYuB,QAA3B,CAAX,CAAV,CAnCK,4CAmClCE,KAnCkC,iBAmC3BC,QAnC2B,iBAqCzC,GAAMC,CAAAA,QAAQ,0FAAG,iBAAO5B,QAAP,CAAiB6B,MAAjB,wIACPhC,CAAAA,aAAa,CAACG,QAAD,CAAW6B,MAAX,CADN,QAEbzB,QAAQ,CAAC,CAACH,IAAI,CAAEM,cAAP,CAAuBW,KAAK,CAAEW,MAA9B,CAAD,CAAR,CAFa,sDAAH,kBAARD,CAAAA,QAAQ,gDAAd,CAMA,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,OAAD,CAAa,CACzBJ,QAAQ,CAAC,CAAC1B,IAAI,CAAE,QAAP,CAAiBmB,QAAQ,CAAEW,OAA3B,CAAD,CAAR,CACAzB,WAAW,CAAC,EAAD,CAAX,CACH,CAHD,CAKA,QAAS0B,CAAAA,SAAT,CAAmBC,SAAnB,CAA8BC,KAA9B,CAAqC,CACjCD,SAAS,CAAGC,KAAK,CAACC,MAAN,CAAaC,QAAb,CAAsBH,SAAtB,CAAZ,CACAN,QAAQ,CAAC,CAAC1B,IAAI,CAAE,MAAP,CAAeiB,KAAK,CAAEe,SAAtB,CAAD,CAAR,CACH,CACD,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACf,KAAD,CAAW,CACvBK,QAAQ,CAAC,CAAC1B,IAAI,CAAC,QAAN,CAAgBqB,KAAK,CAACA,KAAtB,CAAD,CAAR,CAEH,CAHD,CAKA,GAAMgB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAChB,KAAD,CAAQC,UAAR,CAAuB,CAEpCI,QAAQ,CAAC,CAAC1B,IAAI,CAAC,OAAN,CAAeqB,KAAK,CAAEA,KAAtB,CAA6BC,UAAU,CAAEA,UAAzC,CAAD,CAAR,CAEH,CAJD,CAOA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,cAAD,CAAoB,CACrC,GAAMC,CAAAA,MAAM,CAAGD,cAAc,CAACE,GAAf,CAAmB,SAACC,SAAD,CAAYrB,KAAZ,qBAC9B,oBAAC,OAAD,mBACI,oBAAC,WAAD,EAAa,IAAI,CAAC,OAAlB,CAA0B,KAAK,CAAC,MAAhC,CAAuC,OAAO,CAAEqB,SAAS,CAAC,CAAD,CAAzD,CACQ,IAAI,CAAErB,KADd,CAEQ,WAAW,CAAG,qBAAAsB,CAAC,QAAIN,CAAAA,QAAQ,CAACM,CAAC,CAACC,MAAF,CAASC,IAAV,CAAgBF,CAAC,CAACT,MAAF,CAASY,OAAzB,CAAkChC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeS,KAAf,CAAX,CAAlC,CAAZ,EAFvB,EADJ,cAII,oBAAC,QAAD,MAAWiB,SAAS,CAAC,CAAD,CAApB,CAJJ,cAKI,oBAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,CACY,IAAI,CAAErB,KADlB,CAEY,OAAO,CAAG,iBAAAsB,CAAC,QAAIP,CAAAA,OAAO,CAACO,CAAC,CAACC,MAAF,CAASC,IAAV,CAAgB/B,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeS,KAAf,CAAX,CAAhB,CAAX,EAFvB,mBAGc,oBAAC,OAAD,EAAS,IAAI,CAAEjC,KAAf,EAHd,CALJ,cASI,oBAAC,UAAD,EAAY,IAAI,CAAC,KAAjB,EATJ,CAD8B,EAAnB,CAAf,CAaJ,MAAOgD,CAAAA,MAAP,CACC,CAfD,CAgBA,GAAMO,CAAAA,SAAS,CAAGT,YAAY,CAACb,KAAD,CAA9B,CAEA,mBACI,oBAAC,UAAD,mBAEI,oBAAC,OAAD,mBAAS,oBAAC,MAAD,EAAQ,KAAK,CAAC,eAAd,eACL,oBAAC,MAAD,EAAQ,KAAK,CAAC,eAAd,eAA8B,8BAA9B,YADK,cAEL,oBAAC,MAAD,EAAQ,KAAK,CAAC,gBAAd,eAA+B,8BAA/B,eAFK,CAAT,CAFJ,cAQI,oBAAC,eAAD,EAAiB,QAAQ,CAAE,KAA3B,CAAmC,gBAAgB,CAAG,0BAACkB,CAAD,QAAOZ,CAAAA,SAAS,CAACN,KAAD,CAAQkB,CAAR,CAAhB,EAAtD,EACKI,SADL,CARJ,cAYA,oBAAC,OAAD,EAAS,KAAK,CAAC,aAAf,eACI,oBAAC,QAAD,EAAU,UAAU,CAAC,MAArB,CACQ,WAAW,CAAC,oBADpB,CAEQ,WAAW,CAAE,qBAAAJ,CAAC,QAAItC,CAAAA,WAAW,CAACsC,CAAC,CAACT,MAAF,CAASjB,KAAV,CAAf,EAFtB,CAEuD,KAAK,CAAEb,QAF9D,EADJ,cAII,oBAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,CAAwB,KAAK,CAAE,CAAC4C,MAAM,CAAE,MAAT,CAAiBC,KAAK,CAAE,MAAxB,CAA/B,CACQ,OAAO,CAAE,yBAAMpB,CAAAA,OAAO,CAACzB,QAAD,CAAUqB,KAAV,CAAb,EADjB,eAEQ,oBAAC,OAAD,EAAS,IAAI,CAAE9B,SAAf,CAA0B,KAAK,CAAE,CAACuD,QAAQ,CAAE,MAAX,CAAjC,EAFR,CAJJ,CAZA,cAsBI,oBAAC,OAAD,mBAAS,oBAAC,MAAD,mBAAQ,oBAAC,MAAD,mBAEjB,oBAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,CACQ,KAAK,CAAC,qBADd,CAEQ,IAAI,CAAC,SAFb,CAGQ,UAAU,CAAC,QAHnB,CAIQ,OAAO,CAAE,kBAAM,CAACvB,QAAQ,CAAC5B,QAAD,CAAW0B,KAAX,CAAR,CAA0B,CAJlD,eAKS,oBAAC,OAAD,EAAS,IAAI,CAAEhC,IAAf,CAAqB,IAAI,CAAC,OAA1B,CAAiC,IAAI,CAAC,OAAtC,EALT,aAFiB,CAAR,cAST,oBAAC,MAAD,mBAEA,oBAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,CACQ,KAAK,CAAC,qBADd,CAEQ,IAAI,CAAC,SAFb,CAGQ,UAAU,CAAC,QAHnB,CAIQ,OAAO,CAAE,yBAAMiC,CAAAA,QAAQ,CAAC,CAAC1B,IAAI,CAAC,OAAN,CAAD,CAAd,EAJjB,eAKS,oBAAC,OAAD,EAAS,IAAI,CAAEN,KAAf,CAAsB,IAAI,CAAC,OAA3B,CAAmC,IAAI,CAAC,OAAxC,EALT,aAFA,CATS,CAAT,CAtBJ,CADJ,CA4CH,CA9HM","sourcesContent":["import React, { useContext, useState, useReducer} from 'react'\nimport { IonItem, IonReorder, IonReorderGroup, IonCheckbox, IonGrid, IonRow, IonCol,\n    IonLabel, IonContent, IonButton, IonIcon, IonInput } from '@ionic/react'\n\nimport { trash, save, close, addCircle } from 'ionicons/icons'\n\nimport { overWriteFile } from '../backend/data'\nimport { store } from '../backend/store'\n\n\n// fields is the basic array of fields that's available upon installation\n/*\nconst fields = [\n    ['Bohne', true],\n    ['Röster', true],\n    ['Kommentar', false]]\n\nconst fileName = 'data/beans-settings.data'\n*/\n\n\nexport const SortItems = (fileName, type) => {\n\n    const globalState = useContext(store)\n    const { state, dispatch } = globalState\n    const [tempItem, setTempItem] = useState('')\n    const settingsString = 'set' + type.charAt(0).toUpperCase() + type.slice(1) + 'Settings' //returns either 'setBeansSettings' or 'setBrewsSettings' \n    \n    const reducer = (myState, action) => {\n        let tempArray = JSON.parse(JSON.stringify(myState))\n        switch (action.type){\n            case 'swap':\n                return action.value\n            case 'addRow':\n                tempArray.push([action.itemName, true])\n\n                return tempArray\n            case 'delRow':\n                \n                //tempArray = JSON.parse(JSON.stringify(state))\n                tempArray.splice(action.index, 1)\n                return tempArray\n                //return state.splice(action.index, 1)\n            case 'check':\n                tempArray[action.index][1] = action.checkState\n                return tempArray\n                //return state[action.index][1] = action.checkState\n            case 'reset':\n                return JSON.parse(JSON.stringify(state[type].settings))\n            default:\n                throw new Error()\n\n        }\n    }\n\n    \n    const [items, setItems] = useReducer(reducer, JSON.parse(JSON.stringify(state[type].settings)))\n\n    const fileSave = async (fileName, object) => {\n        await overWriteFile(fileName, object)\n        dispatch({type: settingsString, value: object})\n\n    }\n\n    const addItem = (newItem) => {\n        setItems({type: 'addRow', itemName: newItem})\n        setTempItem('')\n    }\n\n    function doReorder(itemsSort, event) {\n        itemsSort = event.detail.complete(itemsSort)\n        setItems({type: 'swap', value: itemsSort})\n    }\n    const delItem = (index) => {\n        setItems({type:'delRow', index:index})\n\n    }\n\n    const checkBox = (index, checkState) => {\n\n        setItems({type:'check', index: index, checkState: checkState})\n\n    }\n\n\n    const displayItems = (itemsToDisplay) => {\n        const result = itemsToDisplay.map((arrayItem, index) => \n            <IonItem> \n                <IonCheckbox slot='start' color='dark' checked={arrayItem[1]}\n                        name={index}\n                        onIonChange={ e => checkBox(e.target.name, e.detail.checked, JSON.parse(JSON.stringify(items)) )}/>\n                <IonLabel>{arrayItem[0]}</IonLabel>\n                <IonButton color='dark'\n                            name={index}\n                            onClick={ e => delItem(e.target.name, JSON.parse(JSON.stringify(items)) )}\n                            > <IonIcon icon={trash}/></IonButton>\n                <IonReorder slot='end'/>\n            </IonItem>\n            )\n    return result\n    }\n    const toDisplay = displayItems(items)\n\n    return (\n        <IonContent>\n\n            <IonGrid><IonRow class='ion-no-margin'>\n                <IonCol class='ion-text-left'><br/>Anzeigen</IonCol>\n                <IonCol class='ion-text-right'><br/>Reihenfolge</IonCol>    \n            </IonRow></IonGrid>\n\n\n            <IonReorderGroup disabled={false}  onIonItemReorder={ (e) => doReorder(items, e)}>\n                {toDisplay}\n            </IonReorderGroup>\n        \n        <IonItem class='ion-padding'>\n            <IonInput background='dark'\n                    placeholder='Feld hinzufügen'\n                    onIonChange={e => setTempItem(e.detail.value)} value={tempItem}></IonInput>\n            <IonButton color='dark' style={{height: '35px', width: '35px'}} \n                    onClick={() => addItem(tempItem,items)}>\n                    <IonIcon icon={addCircle} style={{fontSize: '50px'}}  />\n                    </IonButton>\n        </IonItem>\n\n            <IonGrid><IonRow><IonCol>\n            {/* Save */}\n            <IonButton color='dark'\n                    class=\"ion-text-capitalize\"\n                    size='default'\n                    routerLink='./Home'\n                    onClick={() => {fileSave(fileName, items)}}\n                    ><IonIcon icon={save} slot='start'size='large'/>Speichern</IonButton>\n            </IonCol>\n            <IonCol>\n            {/* Cancel */}          \n            <IonButton color='dark'\n                    class=\"ion-text-capitalize\"\n                    size='default'\n                    routerLink='./Home'\n                    onClick={() => setItems({type:'reset'})}\n                    ><IonIcon icon={close} slot='start' size='large'/>Abbrechen</IonButton>\n            </IonCol></IonRow></IonGrid> \n        </IonContent>\n          \n    ) \n}"]},"metadata":{},"sourceType":"module"}