{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/Data/Javascript_code/Ionic/coffee-db4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/Data/Javascript_code/Ionic/coffee-db4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{IonCard,IonCardContent,IonItem,IonImg}from'@ionic/react';import React,{useState,useEffect}from'react';import{Capacitor}from'@capacitor/core';//import { useFilesystem, base64FromPath } from '@ionic/react-hooks/filesystem';\n//import { useStorage } from '@ionic/react-hooks/storage';\nimport{readPicture}from'../backend/data';//const { deleteFile, getUri, readFile, writeFile } = useFilesystem();\n//const { get, set } = useStorage();\n// createTable returns an array containing per line an object with the stored data\n// e.g. [{id:51346431, date:02.01.2020}]\nexport var createTable=function createTable(stringData){// console.log('stringData:', stringData)\nvar stringArray=stringData.split('\\n');// console.log('string array:')\nconsole.log(stringArray);var header=Object.keys(JSON.parse(stringArray[0]));// array from all the keys\nvar tableData=[];// console.log('in tabledata:')\nfor(var i=0;i<stringArray.length;i++){tableData.push(JSON.parse(stringArray[i]));// console.log('json parse:',JSON.parse(stringArray[i]))\nconsole.log(typeof tableData);console.log(tableData);}//console.log(tableData[0]a[header[1]])  //!!! important how to access object id by variable [...]\n// console.log('tabledata type', typeof tableData)\nreturn tableData;};export var picData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(array,filename){var folder,picArray,createPicArray;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://object contains an array with an object inside\n/* Explanation what the function does:\n    1. the outer map iterates through all the objects (lines) in the array\n        and creates the same amount of Ioncards.\n    2. The variable object contains each of the single objects in array\n    3: Object.keys(object) creates an array with all the keys in object\n    4. .filter removes the key with id\n    5. map iterates through all the remaining keys and creates for each key\n        a IonCardcontent with the content key: value\n    */ // console.log('i m in picData functin', array)\n//I need to add the mapping to the ID\nfolder=filename.split('/')[0];//console.log(folder)\n// //console.log('Array:', array)\n/*\n    const picArray = []\n    const createPicArray = async () => {\n        for (let i=0; i<array.length; i++){\n            const temp = await readPicture(folder + '/' + array[i].id.toString() + '.jpeg')\n            picArray.push(temp)\n            // console.log('PICARRAY', picArray[0])\n        }\n    }\n   createPicArray() */picArray=[];createPicArray=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var i,temp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<array.length)){_context.next=9;break;}_context.next=4;return readPicture(folder+'/'+array[i].id.toString()+'.jpeg');case 4:temp=_context.sent;picArray.push(temp);// console.log('PICARRAY', picArray[0])\ncase 6:i++;_context.next=1;break;case 9:case\"end\":return _context.stop();}}},_callee);}));return function createPicArray(){return _ref2.apply(this,arguments);};}();createPicArray();// //console.log('PICARRAY22222', picArray[0])\nreturn _context2.abrupt(\"return\",picArray);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function picData(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"sources":["/mnt/Data/Javascript_code/Ionic/coffee-db4/src/components/frontend/create-table.js"],"names":["IonCard","IonCardContent","IonItem","IonImg","React","useState","useEffect","Capacitor","readPicture","createTable","stringData","stringArray","split","console","log","header","Object","keys","JSON","parse","tableData","i","length","push","picData","array","filename","folder","picArray","createPicArray","id","toString","temp"],"mappings":"+TAAA,OAASA,OAAT,CAAkBC,cAAlB,CAAkCC,OAAlC,CAA2CC,MAA3C,KAAyD,cAAzD,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,OAASC,SAAT,KAA0B,iBAA1B,CAIA;AACA;AAEA,OAASC,WAAT,KAA4B,iBAA5B,CAEA;AACA;AAOA;AACA;AACA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,UAAD,CAAgB,CACvC;AACA,GAAMC,CAAAA,WAAW,CAAGD,UAAU,CAACE,KAAX,CAAiB,IAAjB,CAApB,CACA;AACAC,OAAO,CAACC,GAAR,CAAYH,WAAZ,EACA,GAAMI,CAAAA,MAAM,CAAGC,MAAM,CAACC,IAAP,CAAYC,IAAI,CAACC,KAAL,CAAWR,WAAW,CAAC,CAAD,CAAtB,CAAZ,CAAf,CAAwD;AACxD,GAAIS,CAAAA,SAAS,CAAG,EAAhB,CACA;AACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGV,WAAW,CAACW,MAAhC,CAAwCD,CAAC,EAAzC,CAA4C,CAC1CD,SAAS,CAACG,IAAV,CAAeL,IAAI,CAACC,KAAL,CAAWR,WAAW,CAACU,CAAD,CAAtB,CAAf,EACA;AACAR,OAAO,CAACC,GAAR,CAAY,MAAOM,CAAAA,SAAnB,EACAP,OAAO,CAACC,GAAR,CAAYM,SAAZ,EAED,CACH;AACE;AACA,MAAOA,CAAAA,SAAP,CACD,CAlBI,CAwBP,MAAO,IAAMI,CAAAA,OAAO,0FAAG,kBAAOC,KAAP,CAAcC,QAAd,yJAEnB;AACA;;;;;;;;MAHmB,CAanB;AAEA;AACMC,MAhBa,CAgBJD,QAAQ,CAACd,KAAT,CAAe,GAAf,EAAoB,CAApB,CAhBI,CAiBnB;AACA;AAEA;;;;;;;;;sBAWKgB,QA/Bc,CA+BH,EA/BG,CAgCdC,cAhCc,2FAgCG,8IACVR,CADU,CACR,CADQ,aACLA,CAAC,CAACI,KAAK,CAACH,MADH,gDAEId,CAAAA,WAAW,CAACmB,MAAM,CAAG,GAAT,CAAeF,KAAK,CAACJ,CAAD,CAAL,CAASS,EAAT,CAAYC,QAAZ,EAAf,CAAwC,OAAzC,CAFf,QAETC,IAFS,eAGfJ,QAAQ,CAACL,IAAT,CAAcS,IAAd,EACA;AAJe,OACWX,CAAC,EADZ,6EAhCH,kBAgCdQ,CAAAA,cAhCc,4CAuCrBA,cAAc,GAEhB;AAzCuB,iCA0CfD,QA1Ce,0DAAH,kBAAPJ,CAAAA,OAAO,gDAAb","sourcesContent":["import { IonCard, IonCardContent, IonItem, IonImg } from '@ionic/react';\nimport React, { useState, useEffect } from 'react';\n\nimport { Capacitor } from '@capacitor/core';\n\n\n\n//import { useFilesystem, base64FromPath } from '@ionic/react-hooks/filesystem';\n//import { useStorage } from '@ionic/react-hooks/storage';\n\nimport { readPicture } from '../backend/data'\n\n//const { deleteFile, getUri, readFile, writeFile } = useFilesystem();\n//const { get, set } = useStorage();\n\n\n\n\n\n\n// createTable returns an array containing per line an object with the stored data\n// e.g. [{id:51346431, date:02.01.2020}]\nexport const createTable = (stringData) => {\n    // console.log('stringData:', stringData)\n    const stringArray = stringData.split('\\n')\n    // console.log('string array:')\n    console.log(stringArray)\n    const header = Object.keys(JSON.parse(stringArray[0]))  // array from all the keys\n    let tableData = []\n    // console.log('in tabledata:')\n    for (let i = 0; i < stringArray.length; i++){\n      tableData.push(JSON.parse(stringArray[i]))\n      // console.log('json parse:',JSON.parse(stringArray[i]))\n      console.log(typeof tableData)\n      console.log(tableData)\n    \n    }\n  //console.log(tableData[0]a[header[1]])  //!!! important how to access object id by variable [...]\n    // console.log('tabledata type', typeof tableData)\n    return tableData  \n  }\n\n\n\n\n\nexport const picData = async (array, filename) => {\n\n    //object contains an array with an object inside\n    /* Explanation what the function does:\n    1. the outer map iterates through all the objects (lines) in the array\n        and creates the same amount of Ioncards.\n    2. The variable object contains each of the single objects in array\n    3: Object.keys(object) creates an array with all the keys in object\n    4. .filter removes the key with id\n    5. map iterates through all the remaining keys and creates for each key\n        a IonCardcontent with the content key: value\n    */\n\n    // console.log('i m in picData functin', array)\n\n    //I need to add the mapping to the ID\n    const folder = filename.split('/')[0]\n    //console.log(folder)\n    // //console.log('Array:', array)\n\n    /*\n    const picArray = []\n    const createPicArray = async () => {\n        for (let i=0; i<array.length; i++){\n            const temp = await readPicture(folder + '/' + array[i].id.toString() + '.jpeg')\n            picArray.push(temp)\n            // console.log('PICARRAY', picArray[0])\n        }\n    }\n   createPicArray() */\n\n   const picArray = []\n   const createPicArray = async () => {\n       for (let i=0; i<array.length; i++){\n           const temp = await readPicture(folder + '/' + array[i].id.toString() + '.jpeg')\n           picArray.push(temp)\n           // console.log('PICARRAY', picArray[0])\n       }\n   }\n  createPicArray()\n\n// //console.log('PICARRAY22222', picArray[0])\n return picArray\n}\n"]},"metadata":{},"sourceType":"module"}